webpackJsonp([8],{"5ckS":function(e,t,n){var l=n("w6tM");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);n("8bSs")("5f512870",l,!0)},fghM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("4YfN"),o=n.n(l),i=(n("NcNL"),n("wJ7o"),n("9rMa")),a={data:function(){return{dialogVisible:!1,dimension:["数","量","图形建构","逻辑推理"],query:{limit:10,skip:0,problem:null,score:null,dimension:null},multipleSelection:[]}},created:function(){this.$store.dispatch("fetchProblem",this.query)},methods:{deleteAll:function(){var e=this;if(0==this.multipleSelection.length)return!1;this.$confirm("确认删除吗？").then(function(t){e.$store.dispatch("delProblem",{id:e.multipleSelection}).then(function(t){e.$message.success("删除成功"),console.log(t)}).catch(function(e){console.log(e)})}).catch(function(e){})},handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e._id}),console.log(this.multipleSelection)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){if("gender"==e)return 1==t[e]?"男":"女";if("banners"===e)return t[e];var n=e.split(".");return n.length>=3?t[n[0]][n[1]][n[2]]:n.length>=2?t[n[0]][n[1]]:t[e]})})},exportExcel:function(){var e=this;n.e(23).then(n.bind(null,"qcq0")).then(function(t){e.dataList;var n=e.formatJson(["openid","name","head_img","country","province","city","gender"],e.dataList);t.export_json_to_excel({header:["用户id","名称","头像","国家","省份","城市","性别"],data:n,filename:"用户数据",autoWidth:e.autoWidth})})},handleSizeChange:function(e){console.log(e),this.query.limit=e,this.$store.dispatch("fetchProblem",this.query)},handleCurrentChange:function(e){console.log("handleCurrentChange"),console.log(e),this.query.skip=(e-1)*this.query.limit,this.$store.dispatch("fetchProblem",this.query)},search:function(){console.log(this.query),this.$store.dispatch("fetchProblem",this.query)},reset:function(){this.query={limit:10,skip:0,problem:null,score:null,dimension:null},this.$store.dispatch("fetchProblem",this.query)},statusf:function(e,t){return["","线上","待定"][e.status]},editById:function(e){var t=e.id;this.$router.push({name:"quizProblemUpdate",params:{id:t}})},del:function(e){var t=this;console.log(e),this.$confirm("确认删除吗？").then(function(n){t.$store.dispatch("delProblem",{id:e._id}).then(function(e){t.$message.success("删除成功"),console.log(e)}).catch(function(e){console.log(e)})}).catch(function(e){})},add:function(){this.$router.push({name:"quizProblemAdd"})}},computed:o()({},Object(i.b)({problems:"problems",problemsTotal:"problemsTotal"}))},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-button",{attrs:{type:"primary",round:"",plain:"",round:""},on:{click:e.add}},[n("i",{staticClass:"el-icon-circle-plus"}),e._v(" 添加题目")]),e._v(" "),n("el-button",{attrs:{type:"danger",round:"",plain:""},on:{click:e.deleteAll}},[e._v("批量删除")])],1),e._v(" "),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.problems,border:"","default-sort":{prop:"title",order:"descending"},id:"out-table"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{prop:"problem",label:"题名",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"cate",label:"选项",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.answers,function(t,l){return n("div",{key:l},[e._v("\n      "+e._s(l+1)+"、"+e._s(t)+"\n    ")])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"correctAnswer",label:"正确答案",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"题目时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n   "+e._s(t.row.time)+"秒\n")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n   "+e._s(e._f("formatT")(t.row.meta.updateAt))+"\n")]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){e.editById(t.row)}}},[n("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){e.del(t.row)}}},[n("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1),e._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"page-sizes":[10,20,200],"page-size":10,small:!0,layout:"total, sizes, prev, pager, next, jumper",total:e.problemsTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var s=n("/Xao")(a,r,!1,function(e){n("5ckS")},"data-v-756dfc3e",null);t.default=s.exports},w6tM:function(e,t,n){(e.exports=n("BkJT")(!1)).push([e.i,"\n.pr[data-v-756dfc3e] {\n  float: right;\n  margin-bottom: 20px;\n}\n.row-bg[data-v-756dfc3e] {\n  margin-top: 20px;\n  text-align: center;\n}\n.el-pagination[data-v-756dfc3e] {\n  margin-top: 40px;\n  text-align: center;\n}\n",""])}});