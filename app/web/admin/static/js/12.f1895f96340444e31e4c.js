webpackJsonp([12],{Vm1Z:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("a3Yh"),l=r.n(o),a=r("QmSG"),i=r("Eq4a"),s={data:function(){var e;return{uploadurl:a.a,descjoin:"",isCanSubmit:!0,formhelp:{time:[],pay_type:[{value:1,label:"微信支付"},{value:2,label:"现金支付"},{value:3,label:"现金支付+支付"}]},form:(e={up_site:"",down_site:"",start_site:"",end_site:"",start_time:"",end_time:"",price:"",midway:"",car_num:"",contact:"",driver:"",remark:"",is_both:!1,back_shcedule_name:"",pay_type:1,is_start_check:1},l()(e,"remark",""),l()(e,"is_end",!1),l()(e,"ticket",60),e),rules:{}}},created:function(){},methods:{onSubmit:function(e){var t=this;if(!this.isCanSubmit)return!1;this.isCanSubmit=!1,console.log(this.form),this.form.end_time=this.formhelp.time[1],this.form.start_time=this.formhelp.time[0],this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),t.$message.error("参数错误"),t.isCanSubmit=!0,!1;t.$store.dispatch("addSchedule",t.form).then(function(e){200==e.code?(t.$notify({title:"成功",message:"修改成功",type:"success"}),t.$router.back(1)):(t.$notify({title:"失败",message:"参数错误",type:"warning"}),t.isCanSubmit=!0),console.log(e)}).catch(function(e){t.$notify({title:"失败",message:"参数错误",type:"warning"}),t.isCanSubmit=!0}),console.log(t.form)})},initEditor:function(){var e=this;this.editor=new i(this.$refs.editor),this.editor.customConfig.uploadImgServer=this.uploadurl,this.editor.customConfig.onchangeTimeout=50,this.editor.customConfig.onchange=function(t){e.form.contents=t},this.editor.create()}},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v(e._s(e.$route.meta.title))])]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px","label-position":"right"}},[r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"出发地",prop:"start_site"}},[r("el-input",{attrs:{placeholder:"请输入出发地"},model:{value:e.form.start_site,callback:function(t){e.$set(e.form,"start_site",t)},expression:"form.start_site"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"终点",prop:"end_site"}},[r("el-input",{attrs:{placeholder:"请输入终点"},model:{value:e.form.end_site,callback:function(t){e.$set(e.form,"end_site",t)},expression:"form.end_site"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上车点",prop:"up_site"}},[r("el-input",{attrs:{placeholder:"请输入上车点"},model:{value:e.form.up_site,callback:function(t){e.$set(e.form,"up_site",t)},expression:"form.up_site"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"下车点",prop:"down_site"}},[r("el-input",{attrs:{placeholder:"请输入下车点"},model:{value:e.form.down_site,callback:function(t){e.$set(e.form,"down_site",t)},expression:"form.down_site"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束日期"}},[r("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["12:00:00","14:00:00"]},model:{value:e.formhelp.time,callback:function(t){e.$set(e.formhelp,"time",t)},expression:"formhelp.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"票价"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"司机名称"}},[r("el-input",{attrs:{placeholder:"请输入司机名称"},model:{value:e.form.driver,callback:function(t){e.$set(e.form,"driver",t)},expression:"form.driver"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"检票员电话"}},[r("el-input",{attrs:{placeholder:"请输入检票员电话"},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"票数",prop:"ticket"}},[r("el-input",{attrs:{placeholder:"请输入票数"},model:{value:e.form.ticket,callback:function(t){e.$set(e.form,"ticket",t)},expression:"form.ticket"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"category"}},[r("el-radio-group",{model:{value:e.form.pay_type,callback:function(t){e.$set(e.form,"pay_type",t)},expression:"form.pay_type"}},e._l(e.formhelp.pay_type,function(t,o){return r("el-radio",{key:o,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"车牌号",prop:"car_num"}},[r("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:e.form.car_num,callback:function(t){e.$set(e.form,"car_num",t)},expression:"form.car_num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否双程"}},[r("el-switch",{model:{value:e.form.is_both,callback:function(t){e.$set(e.form,"is_both",t)},expression:"form.is_both"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否开始检票"}},[r("el-switch",{model:{value:e.form.is_start_check,callback:function(t){e.$set(e.form,"is_start_check",t)},expression:"form.is_start_check"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"返程编号"}},[r("el-input",{attrs:{placeholder:"请输入返程编号"},model:{value:e.form.back_shcedule_name,callback:function(t){e.$set(e.form,"back_shcedule_name",t)},expression:"form.back_shcedule_name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("新增")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},m=r("/Xao")(s,n,!1,null,null,null);t.default=m.exports}});